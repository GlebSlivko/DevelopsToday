(this["webpackJsonpsimple-blog"]=this["webpackJsonpsimple-blog"]||[]).push([[0],{102:function(e,t,a){},103:function(e,t,a){},134:function(e,t,a){"use strict";a.r(t);var n=a(0),o=a.n(n),r=a(8),l=a.n(r),c=(a(102),a(103),a(32)),i=a(23),s=a(79),u=a(80),m=a(38),d={header:{},body:{}};var p={allPosts:[]};var b=Object(i.combineReducers)({postReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:d,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"FORM_DATA_TO_STORE_SUCCESS":return Object(m.a)({},e,{header:t.payload.post.header,body:t.payload.post.body});case"FETCH_POST_FAIL":return Object(m.a)({},e);default:return e}},allPostsReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:p,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ALL_POSTS_TO_STORE_SUCCESS":return Object(m.a)({},e,{allPosts:t.payload});case"ALL_POSTS_TO_STORE_FAIL":return Object(m.a)({},e);default:return e}}}),f=a(81),g=Object(f.createLogger)(),h=[s.a,g];var E=a(30),y=a(27),O=a(86),S=a(21),v=a(35),T=a.n(v),j=function(e){return{type:"ALL_POSTS_TO_STORE_SUCCESS",payload:e}},x=function(){return{type:"ALL_POSTS_TO_STORE_FAIL"}},_=a(168),C=a(165),R=a(174),w=a(179),k=a(173),N=a(171),B=a(172),L=a(170),W=a(82),A=Object(C.a)((function(e){return{navbarRoot:{flexGrow:1},menuButton:{marginRight:e.spacing(2)},title:{flexGrow:1},titleTypography:{fontSize:16,fontWeight:"bold"},bodyTypography:{fontSize:14},listRoot:{marginTop:15,width:"100%",maxWidth:800,backgroundColor:e.palette.background.paper},cardRoot:{minWidth:400,marginBottom:15,cursor:"pointer"},mainContainer:{marginTop:15},mainButton:{marginBottom:20},number:{marginLeft:"100%"},box:{marginRight:"5%"}}})),P=function(){var e=Object(n.useState)([]),t=Object(S.a)(e,2),a=t[0],r=t[1],l=Object(n.useState)(0),i=Object(S.a)(l,2),s=i[0],u=i[1],m=Object(c.b)(),d=Object(c.c)((function(e){return e.allPostsReducer.allPosts})).reverse(),p=Object(n.useCallback)((function(){m((function(e){T.a.get("https://simple-blog-api.crew.red/posts").then((function(e){return e})).then((function(t){if(200===t.status){var a=t.data.filter((function(e){return!e.data||"In quibusdam tempore odit est dolorem"!==e.data.title}));e(j(a))}else e(x())}))}))}),[m]);Object(n.useEffect)((function(){console.log("homeUseEffect"),p()}),[]),Object(n.useEffect)((function(){b()}),[d]);var b=function(){setTimeout((function(){var e=d.length;if(!(d.length<1)){for(var t=[],n=s;n<=s+12;n++)n<=e&&t.push(d[n]);r([].concat(Object(O.a)(a),t)),u(n)}}),1500)},f=Object(y.g)(),g=function(){f.push("/posts/new")},h=A();return o.a.createElement(W.a,{dataLength:a.length,next:b,hasMore:s<d.length,loader:o.a.createElement("div",{className:"spinner"},o.a.createElement("img",{src:"spinner.svg"}))},function(e){return o.a.createElement(_.a,{className:h.mainContainer},o.a.createElement(L.a,{className:h.mainButton,variant:"contained",onClick:g},"Create New Post"),e.map((function(e){return e&&o.a.createElement(N.a,{className:h.cardRoot,onClick:function(){return t=e.id,void f.push("/posts/"+t);var t},key:e.id},o.a.createElement(B.a,null,o.a.createElement(k.a,{className:h.titleTypography},e.data?e.data.title:e.title),o.a.createElement(R.a,null),o.a.createElement(k.a,{className:h.bodyTypography},e.data?e.data.body:e.body,o.a.createElement(w.a,{className:h.box},o.a.createElement("span",{className:h.number}," ",e.id)))))})))}(a))},F=function(){return o.a.createElement(P,null)},I=a(181),z=a(180),M=a(175),V=a(135),q=Object(C.a)((function(e){return Object(I.a)({root:{maxWidth:500},bullet:{display:"inline-block",margin:"0 2px",transform:"scale(0.8)"},title:{fontSize:16,fontWeight:"bold"},pos:{marginBottom:12,fontSize:12},modal:{display:"flex",alignItems:"center",justifyContent:"center"},paper:{backgroundColor:e.palette.background.paper,border:"2px solid #000",boxShadow:e.shadows[5],padding:e.spacing(2,4,3),maxWidth:400},button:{marginLeft:"70%"}})})),D=function(){var e=Object(n.useState)([]),t=Object(S.a)(e,2),a=t[0],r=t[1],l=o.a.useState(!0),c=Object(S.a)(l,2),i=c[0],s=c[1],u=q(),m=Object(y.h)().postId;Object(n.useEffect)((function(){T.a.get("https://simple-blog-api.crew.red/posts/".concat(m,"?_embed=comments")).then((function(e){r([e.data])}))}),[]);var d=Object(y.g)(),p=function(){d.push("/"),s(!1)};return o.a.createElement(_.a,null,o.a.createElement(z.a,{"aria-labelledby":"transition-modal-title","aria-describedby":"transition-modal-description",className:u.modal,open:i,onClose:p,closeAfterTransition:!0,BackdropComponent:M.a,BackdropProps:{timeout:500}},o.a.createElement(V.a,{in:i},o.a.createElement(_.a,{className:u.paper},a.map((function(e){return o.a.createElement(o.a.Fragment,null,o.a.createElement(k.a,{className:u.title,color:"textSecondary",gutterBottom:!0},e.data?e.data.title:e.title),o.a.createElement(R.a,null),o.a.createElement(k.a,{className:u.pos,color:"textSecondary"},e.data?e.data.body:e.body),o.a.createElement(k.a,{className:u.button,color:"textSecondary"},o.a.createElement(L.a,{onClick:p,color:"primary"},"ok")))}))))))},U=function(){return o.a.createElement(D,null)},G=function(e){return{type:"FORM_DATA_TO_STORE_SUCCESS",payload:{post:e}}},H=function(){return{type:"FORM_DATA_TO_STORE_FAIL"}},J=a(47),$=function(){var e=Object(C.a)((function(e){return Object(I.a)({cardRoot:{marginLeft:"auto",marginRight:"auto"},root:{maxWidth:500},bullet:{display:"inline-block",margin:"0 2px",transform:"scale(0.8)"},title:{fontSize:16,fontWeight:"bold",minWidth:400},textValidator:{fontSize:16,fontWeight:"bold",minWidth:500},pos:{marginBottom:12,fontSize:12},modal:{display:"flex",alignItems:"center",justifyContent:"center"},paper:{backgroundColor:e.palette.background.paper,border:"2px solid #000",boxShadow:e.shadows[5],padding:e.spacing(2,4,3),maxWidth:600},button:{marginTop:35,marginLeft:"70%"}})})),t=o.a.useState(!0),a=Object(S.a)(t,2),r=a[0],l=a[1],i=Object(n.useState)({header:"",body:""}),s=Object(S.a)(i,2),u=s[0],m=s[1],d=Object(c.b)(),p=Object(n.useCallback)((function(){var e;d((e=u,function(t){t(G(e)),T.a.post("https://simple-blog-api.crew.red/posts",{data:{title:e.header,body:e.body}}).then((function(e){return e})).then((function(e){if(200===e.status){var a=e.data;t(G(a))}else t(H())}))}))}),[d,u]),b=u.header,f=u.body,g=e(),h=Object(y.g)();return o.a.createElement(_.a,null,o.a.createElement(z.a,{"aria-labelledby":"transition-modal-title","aria-describedby":"transition-modal-description",className:g.modal,open:r,onClose:function(){h.push("/"),l(!1)},closeAfterTransition:!0,BackdropComponent:M.a,BackdropProps:{timeout:500}},o.a.createElement(V.a,{in:r},o.a.createElement(_.a,{className:g.paper},o.a.createElement(J.ValidatorForm,{onSubmit:function(){p(),setTimeout((function(){h.push("/")}),100)}},o.a.createElement(k.a,{className:g.title,color:"textSecondary",gutterBottom:!0},o.a.createElement(J.TextValidator,{className:g.textValidator,label:"Header",onChange:function(e){return function(e){var t=e.currentTarget.value;m({header:t,body:f})}(e)},name:"header",value:b,validators:["required"],errorMessages:["this field is required"]})),o.a.createElement(J.TextValidator,{className:g.textValidator,label:"Body",onChange:function(e){return function(e){var t=e.currentTarget.value;m({header:b,body:t})}(e)},name:"body",value:f,validators:["required"],errorMessages:["this field is required"]}),o.a.createElement(k.a,{className:g.button,color:"textSecondary",gutterBottom:!0},o.a.createElement(L.a,{type:"submit"},"Submit")))))))},K=function(){return o.a.createElement($,null)},Q=a(176),X=a(177),Y=a(178),Z=a(85),ee=a.n(Z),te=Object(C.a)((function(e){return{navbarRoot:{flexGrow:1},menuButton:{marginRight:e.spacing(2)},title:{flexGrow:1},listRoot:{marginTop:15,width:"100%",maxWidth:800,backgroundColor:e.palette.background.paper},cardRoot:{minWidth:400}}})),ae=function(){var e=te();return o.a.createElement("div",{className:e.navbarRoot},o.a.createElement(Q.a,{position:"static"},o.a.createElement(X.a,null,o.a.createElement(Y.a,{edge:"start",className:e.menuButton,color:"inherit","aria-label":"menu"},o.a.createElement(ee.a,null)),o.a.createElement(k.a,{variant:"h6",className:e.title},"Front-End (React) test assessment by DevelopsToday"))))},ne=function(){return o.a.createElement(o.a.Fragment,null,o.a.createElement(ae,null),o.a.createElement(y.d,null,o.a.createElement(y.b,{exact:!0,path:"/",component:F}),o.a.createElement(y.b,{path:"/posts/new",component:K}),o.a.createElement(y.b,{path:"/posts/:postId",component:U}),o.a.createElement(y.a,{to:"/"})))},oe=Object(i.createStore)(b,Object(u.composeWithDevTools)(i.applyMiddleware.apply(void 0,h)));var re=function(){return o.a.createElement(c.a,{store:oe},o.a.createElement(E.a,null,o.a.createElement(ne,null)))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));l.a.render(o.a.createElement(re,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},97:function(e,t,a){e.exports=a(134)}},[[97,1,2]]]);
//# sourceMappingURL=main.530ad472.chunk.js.map